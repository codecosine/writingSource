JavaScript变量提升详解(hoisting)
发表于 2016-10-11   |  
新手一枚，参考文章结合自己理解写成，欢迎评论讨论，纠错。

更新中……&

简介

这是一个挺老也挺有趣的现象了，也是JavaScript一直诟病的Bug一般的现象，ES6也通过各种手段来解决这些问题。当然最重要的是，去理解发生了什么，才能更有把握去解决。

变量提升现象
变量生命周期
JavaScript作用域
JavaScript解释器解释过程
ES6中的let const
变量提升现象

简直就是面试题重灾区。

1
2
3
4
var v = 'Hello World';
(function(){
    console.log(v);// Hello World
})()
1
2
3
4
5
6
7
8
9
10
var v = 'Hello World';
(function(){
    if(false){
      var foo = 'foo';
    }
    console.log(v);// Undefined
    console.log(foo);// foo
    console.log(inexistence);
    var v = 'hi';
})()
run:jsbin

在第二种情况下，发生了变量提升的情况，v输出的时候竟然是undefined。要想去理解这其中发生了什么，还需要知道一些基础的知识。

JavaScript作用域

JavaScript没有块级作用域应该很多人都知道了。jsbin

1
2
3
4
5
6
7
 var v = 1;
    console.log(v); // 1
 if (true) {
   var v = 2;
   console.log(v); //2
}
 console.log(v);// 2
为了解决需要块级作用域的情况，往往引入了函数作用域

JavaScript变量生命周期

声明 var myValue
初始化 myValue = 666
使用 console.log(myValue)
JavaScript解释器解释过程

ES6中的let const