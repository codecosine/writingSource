<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript-类型和值-类型运算符 | Cosine&#39;s Blog</title>
    <meta name="description" content="just my blog">
    
    
    <link rel="preload" href="/assets/css/0.styles.d141e9b4.css" as="style"><link rel="preload" href="/assets/js/app.501d5345.js" as="script"><link rel="preload" href="/assets/js/3.8f80aac1.js" as="script"><link rel="preload" href="/assets/js/1.e2b304fc.js" as="script"><link rel="preload" href="/assets/js/13.271374bb.js" as="script"><link rel="prefetch" href="/assets/js/10.d4c81fca.js"><link rel="prefetch" href="/assets/js/11.f4c07c8a.js"><link rel="prefetch" href="/assets/js/12.b7d2a0e0.js"><link rel="prefetch" href="/assets/js/14.2911963d.js"><link rel="prefetch" href="/assets/js/15.25fb94a8.js"><link rel="prefetch" href="/assets/js/16.8ea9dda7.js"><link rel="prefetch" href="/assets/js/17.1e7babdf.js"><link rel="prefetch" href="/assets/js/18.888364a8.js"><link rel="prefetch" href="/assets/js/19.c4f3b16c.js"><link rel="prefetch" href="/assets/js/20.2dd7058a.js"><link rel="prefetch" href="/assets/js/21.633ec0b5.js"><link rel="prefetch" href="/assets/js/22.d4a0d128.js"><link rel="prefetch" href="/assets/js/23.15ffda6b.js"><link rel="prefetch" href="/assets/js/24.62b51d3d.js"><link rel="prefetch" href="/assets/js/25.71353f7e.js"><link rel="prefetch" href="/assets/js/26.2068455f.js"><link rel="prefetch" href="/assets/js/27.755ff08b.js"><link rel="prefetch" href="/assets/js/4.1d635a3a.js"><link rel="prefetch" href="/assets/js/5.6da96eb6.js"><link rel="prefetch" href="/assets/js/6.d6d2f07c.js"><link rel="prefetch" href="/assets/js/7.fb7b0210.js"><link rel="prefetch" href="/assets/js/8.1fdfde97.js"><link rel="prefetch" href="/assets/js/9.b941adad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d141e9b4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>Cosine's Blog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Cosine's Blog</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Cosine's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont undefined"></i>
  Home
</a></div><div class="nav-item"><a href="/code/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  Code
</a></div><div class="nav-item"><a href="/game/" class="nav-link"><i class="iconfont undefined"></i>
  Game
</a></div><div class="nav-item"><a href="/life/" class="nav-link"><i class="iconfont undefined"></i>
  Life
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Google
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><!----> <h3 class="name" data-v-6c8ffc9c>
    Cosine's Blog
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>3</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>3</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont undefined"></i>
  Home
</a></div><div class="nav-item"><a href="/code/" class="nav-link router-link-active"><i class="iconfont undefined"></i>
  Code
</a></div><div class="nav-item"><a href="/game/" class="nav-link"><i class="iconfont undefined"></i>
  Game
</a></div><div class="nav-item"><a href="/life/" class="nav-link"><i class="iconfont undefined"></i>
  Life
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Google
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/code/" class="sidebar-link">前言</a></li><li><a href="/code/js-value-type-1.html" class="sidebar-link">JavaScript-类型和值-类型和值</a></li><li><a href="/code/js-value-type-2.html" class="active sidebar-link">JavaScript-类型和值-类型运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/js-value-type-2.html#引言" class="sidebar-link">引言</a></li><li class="sidebar-sub-header"><a href="/code/js-value-type-2.html#提出的问题" class="sidebar-link">提出的问题</a></li><li class="sidebar-sub-header"><a href="/code/js-value-type-2.html#toboolean-运算符" class="sidebar-link">ToBoolean 运算符</a></li><li class="sidebar-sub-header"><a href="/code/js-value-type-2.html#宽松相等-和严格相等-运算符" class="sidebar-link">宽松相等 == 和严格相等 === 运算符</a></li></ul></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>JavaScript-类型和值-类型运算符</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Cosine's Blog</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>JavaScript-类型和值-类型运算符</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>Cosine's Blog</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2017-01-01</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      JavaScript
    </span><span class="tag-item" data-v-484a899e>
      深入系列
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="深入javascript-类型转换"><a href="#深入javascript-类型转换" class="header-anchor">#</a> 深入JavaScript-类型转换</h1> <h2 id="引言"><a href="#引言" class="header-anchor">#</a> 引言</h2> <blockquote><p>墙后的阴影，总是最让人感觉恐怖的。</p></blockquote> <p>人们对JavaScript中最大的偏见,最多的指责,莫过于这强制类型转换了。它承受了如此多的指责，因为他很魔幻，很反直觉，或者说让你失去直觉。</p> <ul><li>没错，这就是一个很烂的特性。</li> <li>我勇于探索是因为人总是好奇的。</li> <li>我尽量避免去使用的，因为代码是给人看的，而不是仅仅给机器进行执行的。</li> <li>为了类型转换而转换，何必呢。</li></ul> <h2 id="提出的问题"><a href="#提出的问题" class="header-anchor">#</a> 提出的问题</h2> <p>1.抛开一切稀奇古怪的面试题，尽量去想。在什么情况下，你需要使用通过类型转换获得代码的便利？
2.我们所说的类型转换和 == 宽松等于有什么区别？或者说，在什么情况下会发生类型转换？
</p> <p>我们先来看一道题目</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> b <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> b <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> b <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> b <span class="token operator">&amp;&amp;</span> c <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> b <span class="token operator">&amp;&amp;</span> c <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><p>请问上面输出什么？</p> <h2 id="toboolean-运算符"><a href="#toboolean-运算符" class="header-anchor">#</a> ToBoolean 运算符</h2> <p>ToBoolean 运算会将下列的值转换为false(ES5.1规范-9.1小节ToBoolean)
有且仅有下面这几个值</p> <ul><li>undefined null</li> <li>false</li> <li>+-0 NaN</li> <li>&quot;&quot;
也就是primitive value中双空三值的“直觉”情况。
请务必牢记关键词<strong>有且仅有</strong></li></ul> <h3 id="toboolean运算发生的expression表达式情况"><a href="#toboolean运算发生的expression表达式情况" class="header-anchor">#</a> ToBoolean运算发生的expression表达式情况</h3> <ul><li>显式的 Boolean() 以及&quot;显式&quot;的 !! 当然 ! 也会发生Toboolean运算，然后取反</li> <li>if(expression)  while(expression) for(..;expression;..😉 do while等各种循环体条件判断中的表达式</li> <li>三元表达式 expression?a:b</li> <li>逻辑运算符中的 逻辑或，逻辑与 ||  &amp;&amp;  左边的操作数expression会发生转换，请注意只有左边</li> <li><strong>显式类型转换发生在静态类型语言的编译时，强制类型转换发生在动态类型语言的运行时</strong></li></ul> <h3 id="容易发生误会的真值"><a href="#容易发生误会的真值" class="header-anchor">#</a> 容易发生误会的真值</h3> <ul><li>&quot;false&quot;， &quot;0&quot;， &quot;''&quot;</li> <li>[]，{}，[0]：</li> <li><strong>[]虽然是真值,但是在ToPromitive解析中却返回的是假值</strong></li> <li><strong>{}在ToPromitive解析中却返回的是真值</strong></li> <li>function(){}，new Boolean(false)</li> <li></li></ul> <h3 id="与-运算符"><a href="#与-运算符" class="header-anchor">#</a> || 与 &amp;&amp; 运算符</h3> <p>JavaScript中的逻辑运算符和别的语言有一些重要的差别</p> <ul><li>它返回的并不是布尔值,可能你用过很多次都理所当然的认为是</li> <li>其实只是返回后在条件表达式中理所当然的进行了隐式的布尔转换</li> <li>它的返回值是两个操作数的一个,即选择两个操作数中的一个</li> <li>所以也有人称这个运算符为选择运算符</li></ul> <p>首先对第一个操作数ToBoolean后执行条件判断</p> <ul><li>|| 的第一个操作数判断情况：如果true 返回第一个,否则返回第二个</li> <li>&amp;&amp; 的第一个操作数判断情况：如果false 返回第一个,否则返回第二个</li></ul> <h2 id="宽松相等-和严格相等-运算符"><a href="#宽松相等-和严格相等-运算符" class="header-anchor">#</a> 宽松相等 == 和严格相等 === 运算符</h2> <blockquote><p>一个常见的误区是 == 检查值是否相等, === 检查值和类型是否相等。听起来蛮有道理，但是远不够准确。</p></blockquote> <blockquote><p>上面这个误区导致的更为严重的误区是，==，=== 是运算符。你使用这个运算符，希望得到的是，比较的结果是相等，还是不等（布尔值），==允许在相等比较中进行强制类型转换，而===不允许。而不是简单的左右两边都进行ToBoolean运算，是按照一定的规则进行强制类型转换。</p></blockquote> <p><strong>换句话说，上面我们说的很多假值，ToBoolean运算，在==这边的比较是按规则才会发生的。</strong></p> <h3 id="宽松-比较规则（个人归纳）"><a href="#宽松-比较规则（个人归纳）" class="header-anchor">#</a> 宽松 == 比较规则（个人归纳）</h3> <ul><li>A == B 等价于 B == A ，除了A与B的执行顺序。</li> <li>A != B 等价于 !(A==B) 。</li> <li>null == undefined // true  出现null undefined会短路直接判断类型</li> <li>相等运算符不总是传递的。</li> <li>Number &gt; String (String类型总是转换为Number来比较) （见7</li> <li>Number &gt; Boolean (Boolean类型总是转换为Number来比较) （见8</li> <li>ToPrmitive &gt; Object （Object类型总是先进行ToPrimitive转换）</li></ul> <h3 id="toprimitive-valueof优先"><a href="#toprimitive-valueof优先" class="header-anchor">#</a> toPrimitive[valueof优先]</h3> <ul><li>1.检查是否有valueof方法</li> <li>2.如果有，则使用valueof函数返回的值进行以上规则的宽松比较（请务必注意，例如Valueof返回false，false还会按比较规则进行toNumber等操作）</li> <li>3.如果没有就使用toString()方法的返回值进行以上规则的宽松比较(因为是Object原型方法，所以一般情况会有)</li> <li>4.因此使用 Object.create(null)产生的对象无法进行强制类型转换</li> <li>5.常见例子 [] =&gt; valueof返回[]不是基础类型=&gt; toString 返回 “”=&gt; 空字符串进行toNumber返回0</li> <li>6.请警惕下面的代码 运算符另一边出现null时是直接进行类型判断的</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> b <span class="token operator">=</span>  <span class="token punctuation">{</span>
    <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span> <span class="token comment">// </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="知识补充-》array-prototype-tostring"><a href="#知识补充-》array-prototype-tostring" class="header-anchor">#</a> 知识补充=》Array.prototype.toString</h4> <p>方法返回每个元素的值并进行toPrimitive[toString优先]，使用逗号连接（请注意外部不会有[]这样的括号）
请注意 undefined,null返回空字符串，[]会返回[object Object]</p> <h3 id="tostring"><a href="#tostring" class="header-anchor">#</a> toString</h3> <p>显示转换String()返回都是基本的值的字符串值,完全一致,用的比较自然，这里不再提。
<strong>String显式转换最大的坑是toPrimitive是先执行toString的</strong></p> <ul><li>undefined =&gt; 'undefined'</li> <li>null =&gt; 'null'</li> <li>1 =&gt; '1'</li> <li>对象进行toPrimitive的另一种形式：请务必注意先执行toString,在执行ValueOf</li></ul> <h3 id="tonumber"><a href="#tonumber" class="header-anchor">#</a> toNumber</h3> <p>事实上宽松比较最需要用的就是ToNumber
而不是假值定义的ToBoolean</p> <ul><li>true 转换为1</li> <li>false 转换为0</li> <li>undefined 转换为 NaN //容易忘记被骗成0</li> <li>null 转换为0 // 容易弄混</li> <li>字符串比较复杂 ECMA9.3.1简单说是 空白字符串转换为0，010只会按十进制，0x会按16进制，“Infinity”这样的常量值也可以得到转换，而除此以外都是NAN</li> <li>对象进行toPrimitive</li></ul> <p><strong>简单说数字最大,但是数字的比较最为严格</strong></p> <p>1.字符串和布尔值在比较中均转换toNumber继续比较
// 个人建议 在任何情况下都不要使用 == 布尔值,因为布尔值一定会被优先转换成数字
2.null 与 undefined 宽松相等,可以相互进行隐式转换
//但是和所谓的 &quot;&quot; false 不等,原因见1
3.对象在比较中 toprimitive操作(valueOf&gt;toString)
4.请时刻注意自己是在进行toNumber toBoolean toprimitive操作的哪一种
令人窒息的一些非常规情况</p> <p>有兴趣可以看下面的ECMA规范,我加入了部分注释方便观看</p> <h4 id="ecmascript5-1-11-9-1-the-equals-operator"><a href="#ecmascript5-1-11-9-1-the-equals-operator" class="header-anchor">#</a> ECMAScript5.1 11.9.1 The Equals Operator ( == )</h4> <p>产生式 EqualityExpression : EqualityExpression == RelationalExpression 按照下面的过程执行 :</p> <ul><li>令 lref 为解释执行 EqualityExpression 的结果 .</li> <li>令 lval 为 GetValue(lref).</li> <li>令 rref 为解释执行 RelationalExpression 的结果 .</li> <li>令 rval 为 GetValue(rref).</li> <li>返回做用相等比较算法于 rval == lval( 参见 11.9.3) 的结果</li></ul> <p>简单说是就是 == 两边都进行RHS右值查询。也就是这种方式可以强制比较：</p> <ul><li>字符串比较可以按这种方式强制执行: &quot;&quot; + a == &quot;&quot; + b 。</li> <li>数值比较可以按这种方式强制执行: +a == +b 。</li> <li>布尔值比较可以按这种方式强制执行: !a == !b 。</li></ul> <h4 id="_11-9-3-抽象相等比较算法"><a href="#_11-9-3-抽象相等比较算法" class="header-anchor">#</a> 11.9.3 抽象相等比较算法</h4> <p>比较运算x==y, 其中x和 y是值，产生true或者false。这样的比较按如下方式进行：</p> <p>1.若Type(x)与Type(y)相同， 则</p> <ul><li>a.若Type(x)为Undefined， 返回true。</li> <li>b.若Type(x)为Null， 返回true。
2.若Type(x)为Number， 则</li> <li>a.若x为NaN， 返回false。</li> <li>b.若y为NaN， 返回false。</li> <li>c.若x与y为相等数值， 返回true。</li> <li>d.若x 为 +0 且 y为−0， 返回true。</li> <li>e.若x 为 −0 且 y为+0， 返回true。</li> <li>f.其他情况返回false。
3.若Type(x)为String, 则</li> <li>当x和y为完全相同的字符序列时返回true。其他情况返回false。 // （长度相等且相同字符在相同位置）</li></ul> <blockquote><p>字符串比较使用的方式是简单地检测字符编码单元序列是否相同。不会做更复杂的、基于语义的字符或者字符串相等的定义以及Unicode规范中定义的collating order。所以Unicode标准中认为相等的String值可能被检测为不等。实际上这一算法认为两个字符串已经是经过规范化的形式。
<strong>4.若Type(x)为Boolean, 当x和y为同为true或者同为false时返回true。 否则， 返回false。</strong>
5.当x和y为引用同一对象时返回true。否则，返回false。
6.若x为null且y为undefined， 返回true。若x为undefined且y为null， 返回true。
7.若Type(x) 为 Number 且 Type(y)为String， 返回 x == ToNumber(y)的结果。
若Type(x) 为 String 且 Type(y)为Number，返回比较ToNumber(x) == y的结果。
8.若Type(x)为Boolean， 返回比较ToNumber(x) == y的结果。
若Type(y)为Boolean， 返回比较x == ToNumber(y)的结果。
9.若Type(x)为String或Number，且Type(y)为Object，返回比较x == ToPrimitive(y)的结果。
若Type(x)为Object且Type(y)为String或Number， 返回比较ToPrimitive(x) == y的结果。
10.其他情况返回false。</p></blockquote> <h3 id="严格等于"><a href="#严格等于" class="header-anchor">#</a> === 严格等于</h3> <h3 id="ecma-严格等于运算符"><a href="#ecma-严格等于运算符" class="header-anchor">#</a> ECMA 严格等于运算符 ( === )</h3> <p>比较 x===y，x 和 y 为值，需要产出 true 或 false。比较过程如下：</p> <ul><li>如果 Type(x) 与 Type(y) 的结果不一致，返回 false，否则
如果 Type(x) 结果为 Undefined，返回 true
如果 Type(x) 结果为 Null，返回 true
如果 Type(x) 结果为 Number，则
如果 x 为 NaN，返回 false
如果 y 为 NaN，返回 false
如果 x 与 y 为同一个数字，返回 true
如果 x 为 +0，y 为 -0，返回 true
如果 x 为 -0，y 为 +0，返回 true
返回 false
如果 Type(x) 结果为 String，如果 x 与 y 为完全相同的字符序列（相同的长度和相同的字符对应相同的位置），返回 true，否则，返回 false
如果 Type(x) 结果为 Boolean，如果 x 与 y 都为 true 或 false，则返回 true，否则，返回 false
如果 x 和 y 引用到同一个 Object 对象，返回 true，否则，返回 false
此算法与 SameValue 算法在对待有符号的零和 NaN 上表现不同。</li></ul> <blockquote><p>很多人说，只要JavaScript发生比较，永远不要使用宽松等于==。我赞同这种做法，却不喜欢这种说法。你将==视为魔鬼，它只会跟着你，摆脱不掉，永远在阴影中，甚至会出来咬你一口。
<a href="http://dorey.github.io/JavaScript-Equality-Table/" target="_blank" rel="noopener noreferrer">github上的比较记忆图表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>你还需要这个吗？不需要了？很愚蠢真的。emmm...好像已经跑题好远拉，大家可以回过头再去看那道题目。</p></blockquote> <p>以上，例题解析请见下一篇~</p> <p>各种奇怪的题目</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">false</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token boolean">false</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token number">2</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span>
</code></pre></div><p>答案</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;0&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true 都进行数字转换</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true 都进行数字转换</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true 左边数组转字符后转数字为0,</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false 左边转为 &quot;[object Object]&quot; 转NAN</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment">// true 右边发生ToBoolean运算取反，真值取反为false ,然后同第三题</span>
<span class="token number">2</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment">// true 右边ToString 返回'2'</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span> <span class="token comment">// ture 特别提醒[null] toString 返回 &quot;&quot; toNumber 0</span>
</code></pre></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/27/2020, 12:22:25 AM</span></div></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a81d141e data-v-a81d141e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a81d141e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a81d141e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a81d141e></path></svg></div></div></div>
    <script src="/assets/js/app.501d5345.js" defer></script><script src="/assets/js/3.8f80aac1.js" defer></script><script src="/assets/js/1.e2b304fc.js" defer></script><script src="/assets/js/13.271374bb.js" defer></script>
  </body>
</html>
